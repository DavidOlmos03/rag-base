# Application
APP_NAME="RAG Base Service"
ENVIRONMENT=development
DEBUG=True
API_VERSION=v1
SECRET_KEY=your-secret-key-change-this-in-production

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=True

# Database
DATABASE_URL=postgresql+asyncpg://raguser:ragpass@localhost:5432/ragbase
DATABASE_ECHO=False
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# Qdrant
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_TIMEOUT=30
QDRANT_PREFER_GRPC=False

# LLM Providers (Optional - Can be configured per tenant)
OPENAI_API_KEY=
OPENAI_BASE_URL=
OPENAI_DEFAULT_MODEL=gpt-3.5-turbo

ANTHROPIC_API_KEY=
ANTHROPIC_DEFAULT_MODEL=claude-3-sonnet-20240229

DEEPSEEK_API_KEY=
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_DEFAULT_MODEL=deepseek-chat

OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_DEFAULT_MODEL=phi-3:mini

# Embeddings
EMBEDDING_MODEL=BAAI/bge-m3
EMBEDDING_DEVICE=cpu
EMBEDDING_BATCH_SIZE=32
EMBEDDING_MAX_LENGTH=512
EMBEDDING_CACHE_TTL=2592000  # 30 days

# RAG Settings
DEFAULT_CHUNK_SIZE=500
DEFAULT_CHUNK_OVERLAP=50
DEFAULT_TOP_K=5
DEFAULT_RETRIEVAL_SCORE_THRESHOLD=0.7
CONTEXT_MAX_TOKENS=2000

# Cache
QUERY_CACHE_TTL=3600  # 1 hour
RESPONSE_CACHE_TTL=1800  # 30 minutes

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# Security
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
BCRYPT_ROUNDS=12

# CORS
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
CORS_CREDENTIALS=True
CORS_METHODS=["*"]
CORS_HEADERS=["*"]

# File Upload
MAX_UPLOAD_SIZE=52428800  # 50MB
ALLOWED_EXTENSIONS=[".pdf",".txt",".docx"]
UPLOAD_DIR=./uploads

# Observability
ENABLE_METRICS=True
ENABLE_TRACING=False
LOG_LEVEL=INFO
LOG_FORMAT=json

# Cost Tracking
BUDGET_MODE=balanced  # minimal, balanced, premium
ENABLE_COST_TRACKING=True

# Feature Flags
ENABLE_RERANKING=False
ENABLE_HYBRID_SEARCH=True
ENABLE_QUERY_EXPANSION=False
